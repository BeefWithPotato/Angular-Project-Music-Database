{"ast":null,"code":"import _asyncToGenerator from \"D:/UWO/ECE9065 Web Tech/Lab4/ece9065-hzhan686-zwang854-yzho285-lab4/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../commonServices/http-service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/material/button\";\nimport * as i4 from \"@angular/material/table\";\n\nfunction ExampleComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const student_r13 = ctx.$implicit;\n    const i_r14 = ctx.index;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i_r14, \" \", \"Name: \" + student_r13.name, \"\\n\");\n  }\n}\n\nfunction ExampleComponent_th_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Genre ID \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExampleComponent_td_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r15.genre_id, \" \");\n  }\n}\n\nfunction ExampleComponent_th_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Tracks \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExampleComponent_td_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r16.tracks, \" \");\n  }\n}\n\nfunction ExampleComponent_th_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Parent \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExampleComponent_td_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r17 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r17.parent, \" \");\n  }\n}\n\nfunction ExampleComponent_th_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Title \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExampleComponent_td_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r18 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r18.title, \" \");\n  }\n}\n\nfunction ExampleComponent_th_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 12);\n    i0.ɵɵtext(1, \" Top Level \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction ExampleComponent_td_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const element_r19 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", element_r19.top_level, \" \");\n  }\n}\n\nfunction ExampleComponent_tr_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 14);\n  }\n}\n\nfunction ExampleComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"tr\", 15);\n  }\n}\n\nexport class ExampleComponent {\n  constructor(httpService) {\n    this.httpService = httpService;\n    this.students = [];\n    this.genres = [];\n    this.displayedColumns = ['genre_id', 'tracks', 'parent', 'title', 'top_level'];\n  }\n\n  ngOnInit() {\n    console.log(this.httpService);\n  }\n\n  getAllGenres() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // const url = \"http://localhost:5000/genres\";\n      // fetch(url)\n      //     .then(res => {\n      //         if (res.status === 200) {\n      //             return res.json();\n      //         } else {\n      //             alert(\"Could not get genres\");\n      //             return\n      //         }\n      //     })\n      //     .then(json => {\n      //         console.log(json)\n      //         this.genres = json.genres\n      //     })\n      //     .catch(error => {\n      //         console.log(error);\n      //     });\n      // console.log(this.httpService.getAllGenresService())\n      console.log('test', _this.genres);\n      _this.genres = yield _this.httpService.getAllGenresService();\n    })();\n  }\n\n  getAllStudents() {\n    const url = \"http://localhost:5000/students\";\n    fetch(url).then(res => {\n      if (res.status === 200) {\n        return res.json();\n      } else {\n        alert(\"Could not get students\");\n        return;\n      }\n    }).then(json => {\n      console.log(json);\n      this.students = json.students;\n    }).catch(error => {\n      console.log(error);\n    });\n  }\n\n}\n\nExampleComponent.ɵfac = function ExampleComponent_Factory(t) {\n  return new (t || ExampleComponent)(i0.ɵɵdirectiveInject(i1.HttpService));\n};\n\nExampleComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ExampleComponent,\n  selectors: [[\"app-example\"]],\n  decls: 26,\n  vars: 4,\n  consts: [[\"mat-raised-button\", \"\", \"color\", \"primary\", 3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [\"mat-table\", \"\", 1, \"mat-elevation-z8\", 3, \"dataSource\"], [\"matColumnDef\", \"genre_id\"], [\"mat-header-cell\", \"\", 4, \"matHeaderCellDef\"], [\"mat-cell\", \"\", 4, \"matCellDef\"], [\"matColumnDef\", \"tracks\"], [\"matColumnDef\", \"parent\"], [\"matColumnDef\", \"title\"], [\"matColumnDef\", \"top_level\"], [\"mat-header-row\", \"\", 4, \"matHeaderRowDef\"], [\"mat-row\", \"\", 4, \"matRowDef\", \"matRowDefColumns\"], [\"mat-header-cell\", \"\"], [\"mat-cell\", \"\"], [\"mat-header-row\", \"\"], [\"mat-row\", \"\"]],\n  template: function ExampleComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"Test Backend function\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function ExampleComponent_Template_button_click_2_listener() {\n        return ctx.getAllStudents();\n      });\n      i0.ɵɵtext(3, \"Get All Students\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, ExampleComponent_div_4_Template, 2, 2, \"div\", 1);\n      i0.ɵɵelement(5, \"hr\");\n      i0.ɵɵelementStart(6, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function ExampleComponent_Template_button_click_6_listener() {\n        return ctx.getAllGenres();\n      });\n      i0.ɵɵtext(7, \"Get All Genres\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"table\", 2);\n      i0.ɵɵelementContainerStart(9, 3);\n      i0.ɵɵtemplate(10, ExampleComponent_th_10_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(11, ExampleComponent_td_11_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(12, 6);\n      i0.ɵɵtemplate(13, ExampleComponent_th_13_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(14, ExampleComponent_td_14_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(15, 7);\n      i0.ɵɵtemplate(16, ExampleComponent_th_16_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(17, ExampleComponent_td_17_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(18, 8);\n      i0.ɵɵtemplate(19, ExampleComponent_th_19_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(20, ExampleComponent_td_20_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵelementContainerStart(21, 9);\n      i0.ɵɵtemplate(22, ExampleComponent_th_22_Template, 2, 0, \"th\", 4);\n      i0.ɵɵtemplate(23, ExampleComponent_td_23_Template, 2, 1, \"td\", 5);\n      i0.ɵɵelementContainerEnd();\n      i0.ɵɵtemplate(24, ExampleComponent_tr_24_Template, 1, 0, \"tr\", 10);\n      i0.ɵɵtemplate(25, ExampleComponent_tr_25_Template, 1, 0, \"tr\", 11);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngForOf\", ctx.students);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"dataSource\", ctx.genres);\n      i0.ɵɵadvance(16);\n      i0.ɵɵproperty(\"matHeaderRowDef\", ctx.displayedColumns);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"matRowDefColumns\", ctx.displayedColumns);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.MatButton, i4.MatTable, i4.MatHeaderCellDef, i4.MatHeaderRowDef, i4.MatColumnDef, i4.MatCellDef, i4.MatRowDef, i4.MatHeaderCell, i4.MatCell, i4.MatHeaderRow, i4.MatRow],\n  styles: [\"table[_ngcontent-%COMP%] {\\r\\n    width: 50%;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImV4YW1wbGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLFVBQVU7QUFDZCIsImZpbGUiOiJleGFtcGxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZSB7XHJcbiAgICB3aWR0aDogNTAlO1xyXG59Il19 */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;IAEAA;IACIA;IAEJA;;;;;;IAFIA;IAAAA;;;;;;IAUEA;IAAuCA;IAASA;;;;;;IAChDA;IAAwCA;IAAqBA;;;;;IAArBA;IAAAA;;;;;;IAIxCA;IAAuCA;IAAOA;;;;;;IAC9CA;IAAwCA;IAAmBA;;;;;IAAnBA;IAAAA;;;;;;IAIxCA;IAAuCA;IAAOA;;;;;;IAC9CA;IAAwCA;IAAmBA;;;;;IAAnBA;IAAAA;;;;;;IAIxCA;IAAuCA;IAAMA;;;;;;IAC7CA;IAAwCA;IAAkBA;;;;;IAAlBA;IAAAA;;;;;;IAIxCA;IAAuCA;IAAUA;;;;;;IACjDA;IAAwCA;IAAsBA;;;;;IAAtBA;IAAAA;;;;;;IAE1CA;;;;;;IACAA;;;;AC7BJ,OAAM,MAAOC,gBAAP,CAAuB;EAM3BC,YAAoBC,WAApB,EAA2C;IAAvB;IAJpB,gBAAe,EAAf;IACA,cAAa,EAAb;IACA,wBAA4B,CAAC,UAAD,EAAa,QAAb,EAAuB,QAAvB,EAAiC,OAAjC,EAA0C,WAA1C,CAA5B;EAEgD;;EAEhDC,QAAQ;IACNC,OAAO,CAACC,GAAR,CAAY,KAAKH,WAAjB;EACD;;EAEKI,YAAY;IAAA;;IAAA;MAChB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACAF,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoB,KAAI,CAACE,MAAzB;MACA,KAAI,CAACA,MAAL,SAAoB,KAAI,CAACL,WAAL,CAAiBM,mBAAjB,EAApB;IApBgB;EAqBjB;;EAEDC,cAAc;IACZ,MAAMC,GAAG,GAAG,gCAAZ;IAEAC,KAAK,CAACD,GAAD,CAAL,CACKE,IADL,CACUC,GAAG,IAAG;MACR,IAAIA,GAAG,CAACC,MAAJ,KAAe,GAAnB,EAAwB;QACpB,OAAOD,GAAG,CAACE,IAAJ,EAAP;MACH,CAFD,MAEO;QACHC,KAAK,CAAC,wBAAD,CAAL;QACA;MACH;IACJ,CARL,EASKJ,IATL,CASUG,IAAI,IAAG;MACTX,OAAO,CAACC,GAAR,CAAYU,IAAZ;MACA,KAAKE,QAAL,GAAgBF,IAAI,CAACE,QAArB;IACH,CAZL,EAaKC,KAbL,CAaWC,KAAK,IAAG;MACXf,OAAO,CAACC,GAAR,CAAYc,KAAZ;IACH,CAfL;EAgBD;;AAtD0B;;;mBAAhBnB,kBAAgBD;AAAA;;;QAAhBC;EAAgBoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDR7BzB;MAAGA;MAAqBA;MACxBA;MAA0CA;QAAA,OAAS0B,oBAAT;MAAyB,CAAzB;MAA2B1B;MAAgBA;MACrFA;MAKAA;MAEAA;MAA0CA;QAAA,OAAS0B,kBAAT;MAAuB,CAAvB;MAAyB1B;MAAcA;MACjFA;MAEIA;MACEA;MACAA;MACFA;MAEAA;MACEA;MACAA;MACFA;MAEAA;MACEA;MACAA;MACFA;MAEAA;MACEA;MACAA;MACFA;MAEAA;MACEA;MACAA;MACFA;MACAA;MACAA;MACFA;;;;MApCuBA;MAAAA;MAQPA;MAAAA;MA0BMA;MAAAA;MACaA;MAAAA","names":["i0","ExampleComponent","constructor","httpService","ngOnInit","console","log","getAllGenres","genres","getAllGenresService","getAllStudents","url","fetch","then","res","status","json","alert","students","catch","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\UWO\\ECE9065 Web Tech\\Lab4\\ece9065-hzhan686-zwang854-yzho285-lab4\\client\\src\\app\\example\\example.component.html","D:\\UWO\\ECE9065 Web Tech\\Lab4\\ece9065-hzhan686-zwang854-yzho285-lab4\\client\\src\\app\\example\\example.component.ts"],"sourcesContent":["<p>Test Backend function</p>\n<button mat-raised-button color=\"primary\" (click)=\"getAllStudents()\">Get All Students</button>\n<div *ngFor=\"let student of students let i=index\">\n    {{ i }}\n    {{ 'Name: ' + student.name }}\n</div>\n\n<hr>\n\n<button mat-raised-button color=\"primary\" (click)=\"getAllGenres()\">Get All Genres</button>\n<table  mat-table [dataSource]=\"genres\" class=\"mat-elevation-z8\">\n    <!-- genre id -->\n    <ng-container matColumnDef=\"genre_id\">\n      <th mat-header-cell *matHeaderCellDef> Genre ID </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.genre_id}} </td>\n    </ng-container>\n    <!-- tracks -->\n    <ng-container matColumnDef=\"tracks\">\n      <th mat-header-cell *matHeaderCellDef> Tracks </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.tracks}} </td>\n    </ng-container>\n    <!-- parent -->\n    <ng-container matColumnDef=\"parent\">\n      <th mat-header-cell *matHeaderCellDef> Parent </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.parent}} </td>\n    </ng-container>\n    <!-- title -->\n    <ng-container matColumnDef=\"title\">\n      <th mat-header-cell *matHeaderCellDef> Title </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.title}} </td>\n    </ng-container>\n    <!-- top-level -->\n    <ng-container matColumnDef=\"top_level\">\n      <th mat-header-cell *matHeaderCellDef> Top Level </th>\n      <td mat-cell *matCellDef=\"let element\"> {{element.top_level}} </td>\n    </ng-container>\n    <tr mat-header-row *matHeaderRowDef=\"displayedColumns\"></tr>\n    <tr mat-row *matRowDef=\"let row; columns: displayedColumns;\"></tr>\n  </table>","import { Component, OnInit } from '@angular/core';\nimport { HttpService } from '../commonServices/http-service'\n\n@Component({\n  selector: 'app-example',\n  templateUrl: './example.component.html',\n  styleUrls: ['./example.component.css']\n})\nexport class ExampleComponent implements OnInit {\n\n  students:any = []\n  genres:any = []\n  displayedColumns:string[] = ['genre_id', 'tracks', 'parent', 'title', 'top_level']\n\n  constructor(private httpService:HttpService) { }\n\n  ngOnInit(): void {\n    console.log(this.httpService)\n  }\n\n  async getAllGenres() {\n    // const url = \"http://localhost:5000/genres\";\n    // fetch(url)\n    //     .then(res => {\n    //         if (res.status === 200) {\n    //             return res.json();\n    //         } else {\n    //             alert(\"Could not get genres\");\n    //             return\n    //         }\n    //     })\n    //     .then(json => {\n    //         console.log(json)\n    //         this.genres = json.genres\n    //     })\n    //     .catch(error => {\n    //         console.log(error);\n    //     });\n    // console.log(this.httpService.getAllGenresService())\n    console.log('test', this.genres)\n    this.genres = await this.httpService.getAllGenresService()\n  }\n\n  getAllStudents() {\n    const url = \"http://localhost:5000/students\";\n  \n    fetch(url)\n        .then(res => {\n            if (res.status === 200) {\n                return res.json();\n            } else {\n                alert(\"Could not get students\");\n                return\n            }\n        })\n        .then(json => {\n            console.log(json)\n            this.students = json.students\n        })\n        .catch(error => {\n            console.log(error);\n        });\n  }\n}\n"]},"metadata":{},"sourceType":"module"}