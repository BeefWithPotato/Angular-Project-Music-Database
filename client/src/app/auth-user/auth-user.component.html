<h2>User Created Lists:</h2>

<div class="list-container">

        <mat-form-field class="listname-field">
          <mat-label>ListName</mat-label>
          <input matInput placeholder="" #listinfo.listname>
        </mat-form-field>
      
        <mat-form-field class="tracks-field">
            <mat-label>Tracks</mat-label>
          <input matInput placeholder="" #listinfo.trackss>
        </mat-form-field>
        <mat-form-field class="description-field">
            <mat-label>Description</mat-label>
          <input matInput placeholder="" #listinfo.description>
        </mat-form-field>
        <mat-form-field class="vis-field">
          <mat-label>1 for public</mat-label>
        <input matInput placeholder="" #visible>
        </mat-form-field>

        <button mat-raised-button color = 'primary' (click)="createNewPlaylist(listinfo)">Create</button>
        
        

</div>
<button mat-raised-button color = 'primary' (click)="getList(userid)">Get my lists</button>

<table *ngIf="lists?.length" mat-table
       [dataSource]="lists" multiTemplateDataRows
       class="mat-elevation-z8">
       <ng-container matColumnDef="{{column}}" *ngFor="let column of columnsToDisplayUserPlaylists">
        <th mat-header-cell *matHeaderCellDef> {{column}} </th>
        <td mat-cell *matCellDef="let element"> {{element[column]}} </td>
      </ng-container>
      <ng-container matColumnDef="expand">
        <th mat-header-cell *matHeaderCellDef aria-label="row actions">&nbsp;</th>
        <td mat-cell *matCellDef="let element">
          <button mat-icon-button aria-label="expand row" (click)="(expandedElementUserPlaylists = expandedElementUserPlaylists === element ? null : element); $event.stopPropagation()">
            <mat-icon *ngIf="expandedElementUserPlaylists !== element">keyboard_arrow_down</mat-icon>
            <mat-icon *ngIf="expandedElementUserPlaylists === element">keyboard_arrow_up</mat-icon>
          </button>
        </td>
      </ng-container>
    
      <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
      <ng-container matColumnDef="expandedDetail">
        <td mat-cell *matCellDef="let element" [attr.colspan]="columnsToDisplayWithExpandUserPlaylists.length">
          <div class="example-element-detail"
               [@detailExpand]="element == expandedElementUserPlaylists ? 'expanded' : 'collapsed'">
            <div class="example-element-diagram">
              <div class="example-element-track_title"> {{element.listname}} </div>
              <div class="example-element-artist_name"> {{element.visible}} </div>
            </div>
            <div class="example-element-track_duration">
              <span *ngIf="element.tracks.length>0">{{element.tracks[0].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[0].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>1">{{element.tracks[1].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[1].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>2">{{element.tracks[2].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[2].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>3">{{element.tracks[3].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[3].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>4">{{element.tracks[4].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[4].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>5">{{element.tracks[5].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[5].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>6">{{element.tracks[6].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[6].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>7">{{element.tracks[7].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[7].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>8">{{element.tracks[8].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[8].track_title)">Play on YouTube</a> 
              </span>
              <br>
              <span *ngIf="element.tracks.length>9">{{element.tracks[9].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>10">{{element.tracks[10].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>11">{{element.tracks[11].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>12">{{element.tracks[12].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>13">{{element.tracks[13].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>14">{{element.tracks[14].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>15">{{element.tracks[15].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>16">{{element.tracks[16].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>17">{{element.tracks[17].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>18">{{element.tracks[18].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
              <span *ngIf="element.tracks.length>19">{{element.tracks[19].track_title}}
                <a mat-button target="_blank" (click)="goToYoutubeplaylist(element.tracks[9].track_title)">Play on YouTube</a> 
              </span>
            </div>
            <a mat-button target="_blank" (click)="deletelist(userid,element.listid)">DELETE</a> 
          </div>
        </td>
      </ng-container>
    
      <tr mat-header-row *matHeaderRowDef="columnsToDisplayWithExpandUserPlaylists"></tr>
      <tr mat-row *matRowDef="let element; columns: columnsToDisplayWithExpandUserPlaylists;"
          class="example-element-row"
          [class.example-expanded-row]="expandedElementUserPlaylists === element"
          (click)="expandedElementUserPlaylists = expandedElementUserPlaylists === element ? null : element">
      </tr>
      <tr mat-row *matRowDef="let row; columns: ['expandedDetail']" class="example-detail-row"></tr>
</table>

{{userid}}